Copyright (c) 2017,  Met Office, on behalf of HMSO and Queen's Printer
For further details please refer to the file LICENCE.original which you
should have received as part of this distribution.


The Standalone Dynamo Build Environment
=======================================

The StandaloneDynamoEnvironment script is provided as documentation of the
process more than it is a working script. If it does work for you then you have
won jackpot. If it doesn't then it should indicate the necessary process you
will have to follow by hand.

It is assumed that anyone using the scripts and associated information to build
a standalone development environment knows what they are doing. In particular
it is assumed that they are aware that when messing about with operating
system packages you can hose your machine if you remove the wrong thing.

The first time you use the script you should run it as a script,
i.e. "./extra/StandaloneDynamoEnvironment", so it can build all the necessary
libraries. Once this is completed and before each development session you
should source it, i.e. ". ./extra/StandaloneDynamoEnvironment".

If you source it initially, it will kill your session if an error occurs. If you
don't source it before development it will not export the necessary environment
variables into your shell.

Notes for users of slow machines
--------------------------------

If you find the HDF5 tests failing with the message "YOUR APPLICATION TERMINATED
WITH THE EXIST STRING: Alarm clock (signal 14)" then you are suffering from a
watchdog timing out. To give the test more time to complete either export the
variable "BESPOKE_HDF5_WATCHDOG_TIME" or edit the line where it is defined
at the top of the script.

Notes for Ubuntu users
----------------------

Gfortran 4.9 was introduced with Utopic Unicorn. If you are using an earlier
release but don't want to upgrade wholesale, you can selectively install
just the related packages required for a standalone dynamo install.

To get packages from Unicorn add this line to your /etc/apt/sources

---8<---
deb http://gb.archive.ubuntu.com/ubuntu/ utopic main restricted
---8<---

To make sure you don't upgrade your entire system to Unicorn create a file
/etc/apt/preferences.d/utopic-pin

---8<---
Package: *
Pin: release n=trusty
Pin-Priority: 800

Package: *
Pin: release n=utopic
Pin-Priority: 400
---8<---
